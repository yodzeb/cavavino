<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CavaVino</title>
    <link rel="icon" href="img/favicon.png">
    <link rel="stylesheet" href="cavavino.css">
    <link rel="manifest" href="./manifest.json">

</head>
<body>
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <div class="header">
            <div class="cellar-info">
                <div class="cellar-title" id="cellarTitle">My Wine Cellar</div>
                <div class="cellar-temp" id="cellarTemp">Temperature: 13¬∞C</div>
            </div>
            <button class="menu-btn" onclick="showAllWines(true)">üîç</button>
            <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
        </div>

        <!-- Menu Overlay -->
        <div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>
        
        <!-- Menu -->
        <div class="menu" id="menu">
            <div class="menu-header">Wine Cellar Menu</div>
            <div class="menu-item" onclick="showAllWines()">
                <span>üìã</span> List All Wines
            </div>
            <div class="menu-item" onclick="showImport()">
                <span>üì•</span> Import Inventory
            </div>
            <div class="menu-item" onclick="exportInventory()">
                <span>üì§</span> Export Inventory
            </div>
            <div class="menu-item" onclick="showShelfManager()">
                <span>üèóÔ∏è</span> Manage Shelves
            </div>
            <div class="menu-item" onclick="showHistory()">
                <span>üìú</span> History
            </div>
            <div class="menu-item" onclick="showPreferences()">
                <span>‚öôÔ∏è</span> Preferences
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="shelves-grid" id="shelvesGrid">
                <!-- Shelves will be populated here -->
            </div>
        </div>

        <!-- List All Wines Screen -->
        <div class="screen" id="allWinesScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('allWinesScreen')">‚Üê</button>
                <h2>All Wines</h2>
            </div>
            <div class="screen-content">
                <input type="text" class="search-bar" id="wineSearchBar" placeholder="Search wines..." oninput="filterWines()">
                <div id="winesList"></div>
            </div>
        </div>

        <!-- Shelf Wines Screen -->
        <div class="screen" id="shelfWinesScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('shelfWinesScreen')">‚Üê</button>
                <h2 id="shelfWinesTitle">Shelf Wines</h2>
            </div>
            <div class="screen-content">
                <input type="text" class="search-bar" id="shelfWineSearchBar" placeholder="Search wines..." oninput="filterShelfWines()">
                <div id="shelfWinesList"></div>
            </div>
        </div>

        <!-- Add Wine Screen -->
        <div class="screen" id="addWineScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('addWineScreen')">‚Üê</button>
                <h2>Add Wine</h2>
            </div>
            <div class="screen-content">
                <form id="addWineForm">
                    <div class="form-group">
                        <label class="form-label">Wine Name*</label>
                        <input type="text" class="form-input" id="wineName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Region</label>
                        <input type="text" class="form-input" id="wineRegion">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Year</label>
                        <input type="number" class="form-input" id="wineYear" min="1800" max="2030">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Producer</label>
                        <input type="text" class="form-input" id="wineProducer">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Type</label>
                        <select class="form-input" id="wineType">
                            <option value="">Select type</option>
                            <option value="Red">Red</option>
                            <option value="White">White</option>
                            <option value="Ros√©">Ros√©</option>
                            <option value="Sparkling">Sparkling</option>
                            <option value="Dessert">Dessert</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Price</label>
                        <input type="number" class="form-input" id="winePrice" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notes</label>
                        <textarea class="form-input" id="wineNotes" rows="3"></textarea>
                    </div>
                    <button type="submit" class="btn btn-success" style="width: 100%;">Add Wine</button>
                </form>
            </div>
        </div>

        <!-- Import Screen -->
        <div class="screen" id="importScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('importScreen')">‚Üê</button>
                <h2>Import Inventory</h2>
            </div>
            <div class="screen-content">
                <p>Select a JSON file to import your wine inventory:</p>
                <input type="file" id="importFile" class="file-input" accept=".json" onchange="importInventory()">
                <label for="importFile" class="file-label">Choose File</label>
                <div id="importStatus" style="margin-top: 20px;"></div>
            </div>
        </div>

        <!-- Shelf Manager Screen -->
        <div class="screen" id="shelfManagerScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('shelfManagerScreen')">‚Üê</button>
                <h2>Manage Shelves</h2>
            </div>
            <div class="screen-content">
                <div class="form-group">
                    <label class="form-label">New Shelf Name</label>
                    <input type="text" class="form-input" id="newShelfName" placeholder="Enter shelf name">
                    <button class="btn btn-success" onclick="addShelf()" style="margin-top: 10px;">Add Shelf</button>
                </div>
                <div id="shelfsList"></div>
            </div>
        </div>

        <!-- History Screen -->
        <div class="screen" id="historyScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('historyScreen')">‚Üê</button>
                <h2>History</h2>
            </div>
            <div class="screen-content">
                <div id="historyList"></div>
            </div>
        </div>

        <!-- Preferences Screen -->
        <div class="screen" id="preferencesScreen">
            <div class="screen-header">
                <button class="back-btn" onclick="closeScreen('preferencesScreen')">‚Üê</button>
                <h2>Preferences</h2>
            </div>
            <div class="screen-content">
                <div class="form-group">
                    <label class="form-label">Cellar Title</label>
                    <input type="text" class="form-input" id="prefTitle" onchange="updateCellarTitle()">
                </div>
                <div class="form-group">
                    <label class="form-label">Temperature (¬∞C)</label>
                    <input type="number" class="form-input" id="prefTemp" step="0.1" onchange="updateCellarTemp()">
                </div>
                <div class="form-group">
                    <label class="form-label">Cellar Color Theme</label>
                    <div class="color-picker">
                        <div class="color-option" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);" onclick="setCellarColor('linear-gradient(135deg, #667eea 0%, #764ba2 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);" onclick="setCellarColor('linear-gradient(135deg, #f093fb 0%, #f5576c 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);" onclick="setCellarColor('linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);" onclick="setCellarColor('linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);" onclick="setCellarColor('linear-gradient(135deg, #fa709a 0%, #fee140 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);" onclick="setCellarColor('linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);" onclick="setCellarColor('linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)')"></div>
                        <div class="color-option" style="background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);" onclick="setCellarColor('linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)')"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="cavavino.js"></script>
</body>
</html>
